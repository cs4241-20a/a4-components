{"version":3,"sources":["API.js","components/file_upload.js","screens/home.js","components/file_view.js","components/content_feed.js","screens/user_uploads.js","screens/all_uploads.js","App.js","serviceWorker.js","index.js"],"names":["axios","Axios","create","withCredentials","headers","Accept","handle_error","err","caller","Error","stack","split","trim","console","error","nan","this","base_url","auth_url","auth_check_url","authenticated","auth_callbacks","user","token","params","auth_token","get","then","res","status","auth_callback","data","catch","fcn","push","forEach","url","Object","assign","post","put","delete","page","limit","result","length","undefined","authenticate","uploader","title","file","form","FormData","append","id","FileUpload","state","React","createRef","onFormSubmit","bind","onChange","API","add_auth_listener","document","getElementById","value","name","e","setState","target","files","preventDefault","map","submit_file","response","props","on_file_upload","Form","className","ref","onSubmit","Group","controlId","Label","Control","type","required","placeholder","Button","variant","Component","responseGoogle","login_callback","accessToken","Home","title_anim","anim_state","quote_ref","title_block","quote_block","login_button","clientId","buttonText","onSuccess","onFailure","cookiePolicy","states","selected","setTimeout","redirect","ti","TypeIt","speed","startDelay","afterComplete","reset","delay","move","go","location","pathname","title_animation","title_txt","upload_form","from","to","transitionDuration","Jumbotron","fluid","Container","Row","Col","withRouter","DeleteModal","useState","show","setShow","on_delete","delete_callback","handleClose","width","height","onClick","Modal","onHide","Header","closeButton","Title","Body","Footer","delete_upload","FileView","created_at","Date","parse","toLocaleString","updated_at","editable","editing","deleted","table_shown","edit","titleInput","defaultValue","uploaderInput","update_file","_id","uploader_id","download_path","mime_type","file_name","tbl_columns","tbl_data","accordion_head","table_buffer","keys","key","delete_btn","edit_controls","header","as","cursor","item_display","substring","indexOf","controls","src","Image","Box","borderRadius","border","xs","download","href","Accordion","Toggle","eventKey","Collapse","Table","ContentFeed","auth_required","items","has_more","is_loading","feed_path","generator","pager","renderItems","a","next","entries","concat","done","buffer","i","renderItem","feed","style","overflow","scrollParentRef","pageStart","loadMore","hasMore","loader","Spinner","animation","getScrollParent","threshold","UserUploads","AllUploads","history","createBrowserHistory","App","sign_out","nextProps","nextState","check_auth","replace","window","reload","my_uploads_link","name_display","Nav","Item","Link","NavLink","Navbar","Text","bg","sticky","expand","Brand","aria-controls","exact","path","render","Boolean","hostname","match","ReactDOM","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.a8d3b986.chunk.js","sourcesContent":["import Axios from 'axios'\n\n// const baseURL = 'http://brycecorbitt.ddns.net/a3-brycecorbitt'\n\nconst axios  = Axios.create({\n\twithCredentials: true,\n\theaders: {\n\t\tAccept: 'application/json'\n\t},\n\t// baseURL: 'http://localhost:2020'\n})\n\nconst handle_error = function(err){\n\ttry {\n\t\tconst caller = (new Error()).stack.split('\\n')[2].trim().split(' ')[1]\n\t\tconsole.error(`Error in API.${caller}: ${err}`)\n\t}\n\tcatch(nan){\n\t\tconsole.error('An unexpected error occured in API.\\n', err)\n\t}\n}\n\n\nclass API {\n\tconstructor(){\n\t\tthis.base_url = '/'\n\t\tthis.auth_url = '/auth/callback'\n\t\tthis.auth_check_url = '/auth/check'\n\t\tthis.authenticated = false\n\t\tthis.auth_callbacks = []\n\t\tthis.user = null\n\t}\n\n\tauthenticate(token){\n\t\tlet params = {auth_token: token}\n\t\tthis.get(this.auth_url, {params: params}).then((res) => {\n\t\t\tif(res.status !== 200) {\n\t\t\t\tconsole.error(res.data)\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.auth_callback(res.data)\n\t\t})\n\t}\n\n\tcheck_auth(){\n\t\tthis.get(this.auth_check_url).then(res => {\n\t\t\tif(res.status === 200 && res.data.authenticated !== false){\n\t\t\t\tthis.auth_callback(res.data)\n\t\t\t}\n\t\t}).catch(handle_error)\n\t}\n\n\tadd_auth_listener(fcn){\n\t\tif(this.authenticated){\n\t\t\tfcn(this.user)\n\t\t\treturn\n\t\t}\n\t\tthis.auth_callbacks.push(fcn)\n\t}\n\n\tauth_callback(user){\n\t\tthis.user = user\n\t\tthis.authenticated = true\n\t\tthis.auth_callbacks.forEach(fcn => {\n\t\t\tfcn(user)\n\t\t})\n\t}\n\n\tasync get(url, params={}){\n\t\treturn await axios.get(url, params).catch(handle_error)\n\t}\n\n\tasync post(url, data, params={}){\n\t\tparams = Object.assign({headers: { 'Content-Type': 'application/json' }}, params)\n\t\treturn await axios.post(url, data, params).catch(handle_error)\n\t}\n\n\tasync put(url, data, params={}){\n\t\tparams = Object.assign({headers: { 'Content-Type': 'application/json' }}, params)\n\t\treturn await axios.put(url, data, params).catch(handle_error)\n\t}\n\n\tasync delete(url, params={}){\n\t\treturn await axios.delete(url, params).catch(handle_error)\n\t}\n\n\tasync *pager(url, page=1, limit=10) {\n\t\twhile (true) {\n\t\t\tconst params = {params: {page: page, limit: limit}}\n\t\t\tconst result = await this.get(url, params)\n\t\t\tpage++\n\n\t\t\tif(result.status != 200) {\n\t\t\t\thandle_error(result.data)\n\t\t\t\treturn []\n\t\t\t}\n\t\t\tif(result.data.length < limit) {\n\t\t\t\treturn result.data\n\t\t\t}\n\n\t\t\tyield result.data\n\t\t}\n\t\t\n\t}\n\n\tasync get_user(){\n\t\tconst result = await this.get('/auth/user')\n\t\tif('error' in result || result.status !== 200) {\n\t\t\treturn undefined\n\t\t}\n\t\tif(!this.authenticated) {\n\t\t\tthis.authenticate(result.data.user)\n\t\t}\n\t}\n\n\tasync submit_file(uploader, title, file) {\n\t\tconst params = {headers: {'Content-Type': 'multipart/form-data'}}\n\t\tconst form = new FormData()\n\t\tform.append('uploader', uploader)\n\t\tform.append('title', title)\n\t\tform.append('file', file)\n\t\treturn await this.post('/uploads', form, params).catch(handle_error)\n\t}\n\n\tasync update_file(id, uploader, title){\n\t\tconst url = '/uploads/' + id\n\t\tconst data = {uploader: uploader, title: title}\n\t\treturn await this.put(url, data).catch(handle_error)\n\t}\n\n\tasync sign_out(){\n\t\tif(!this.authenticated) {\n\t\t\treturn true\n\t\t}\n\t\treturn this.get('/auth/signout').then((res) => {\n\t\t\tif (res.status != 200)\n\t\t\t\treturn false\n\t\t\tthis.authenticated = false\n\t\t\tthis.user = null\n\t\t\treturn true\n\t\t})\n\t}\n\n\tasync delete_upload(id){\n\t\tconst url = '/uploads/' + id\n\t\tconst res = await this.delete(url)\n\t\tif(res.status != 200) {\n\t\t\thandle_error(res.data)\n\t\t\treturn false\n\t\t}\n\t\treturn true\n\t}\n\n}\n\nexport default new API()","import React from 'react'\nimport {Form, Button} from 'react-bootstrap'\n\nimport API from '../API'\n\n\nclass FileUpload extends React.Component {\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = {file: null}\n\t\tthis.form = React.createRef()\n\t\tthis.onFormSubmit = this.onFormSubmit.bind(this)\n\t\tthis.onChange = this.onChange.bind(this)\n\t}\n\n\tcomponentDidMount(){\n\t\tAPI.add_auth_listener((user) => {\n\t\t\tconst input = document.getElementById('uploader')\n\t\t\tinput.value = user.name\n\t\t})\n\t}\n\n\tonChange(e) {\n\t\tthis.setState({file:e.target.files[0]})\n\t}\n\n\tasync onFormSubmit(e){\n\t\te.preventDefault()\n\t\tconst [uploader, title] = ['uploader', 'title'].map((name) => document.getElementById(name).value)\n\t\tconst file = this.state.file\n\t\tlet response = await API.submit_file(uploader, title, file)\n\t\tif(response.status == 201 && this.props.on_file_upload){\n\t\t\tthis.props.on_file_upload(response.data)\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Form className=\"shadow-lg\" ref={this.form} onSubmit={this.onFormSubmit}>\n\t\t\t\t<h2>Upload New File</h2>\n\t\t\t\t<Form.Group controlId=\"uploader\">\n\t\t\t\t\t<Form.Label className=\"required\">Your Name</Form.Label>\n\t\t\t\t\t<Form.Control type=\"text\" name=\"uploader\" required/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"title\">\n\t\t\t\t\t<Form.Label className=\"required\">Upload Title</Form.Label>\n\t\t\t\t\t<Form.Control type=\"text\" name=\"title\" required placeholder=\"Something creative ;)\" />\n\t\t\t\t</Form.Group>\n\t\t\t\t<Form.Group controlId=\"file\">\n\t\t\t\t\t<Form.Label className=\"required\">Upload your file!</Form.Label>\n\t\t\t\t\t<Form.Control type=\"file\" name=\"file\" required className=\"file-upload\" onChange={this.onChange}/>\n\t\t\t\t</Form.Group>\n\t\t\t\t<Button variant=\"primary\" type=\"submit\">\n\t\t\t\t\tSubmit\n\t\t\t\t</Button>\n\t\t\t</Form>\n\t\t)\n\t}\n}\n\nexport default FileUpload","import React from 'react'\nimport {Container, Row, Col, Jumbotron} from 'react-bootstrap'\nimport FadeIn from 'react-fade-in'\nimport TypeIt from 'typeit'\nimport {Redirect} from 'react-router-dom'\nimport {GoogleLogin} from 'react-google-login'\nimport {withRouter} from 'react-router-dom'\n\nimport API from '../API'\nimport FileUpload from '../components/file_upload'\n\nconst responseGoogle = (response) => {\n\tconsole.error(response)\n}\n\nconst login_callback = (response) => {\n\tconst token = response.accessToken\n\tAPI.authenticate(token)\n}\n\nclass Home extends React.Component {\n\tconstructor(){\n\t\tsuper()\n\t\tthis.state = { title_anim: false, anim_state: 0, authenticated: API.authenticated }\n\t\tthis.quote_ref = React.createRef()\n\t\tthis.title_block = (<h1 id=\"title-string\">Drive++ <em>with <strong>React</strong></em></h1>)\n\t\tthis.quote_block = (<blockquote className=\"blockquote text-muted\" ref={this.quote_ref}>\n\t\t\t<h3><i>{'Possibly the most attractive landing page I\\'ve ever created.'}</i></h3>\n\t\t\t<footer className=\"blockquote-footer\">Bryce Corbitt</footer>\n\t\t</blockquote>)\n\t\tthis.login_button = \n\t\t(<GoogleLogin\n\t\t\tclientId=\"772498714969-serroucg6ud4ns0038efpc5gdsefgm8d.apps.googleusercontent.com\"\n\t\t\tbuttonText=\"Login with Google\"\n\t\t\tonSuccess={login_callback}\n\t\t\tonFailure={responseGoogle}\n\t\t\tcookiePolicy={'single_host_origin'}\n\t\t/>)\n\t\tthis.on_file_upload = this.on_file_upload.bind(this)\n\t}\n\n\ton_file_upload(user){\n\t\tif(!('/user' in this.props.states))\n\t\t\tthis.props.states['/user'] = {}\n\t\tthis.props.states['/user'].selected = user\n\t\tsetTimeout(() => {this.setState({redirect: true})}, 0)\n\t}\n\n\ttitle_animation(){\n\t\tlet ti = new TypeIt('#title-string', {\n\t\t\tspeed: 100,\n\t\t\tstartDelay: 500,\n\t\t\tafterComplete: () => {\n\t\t\t\tti.reset()\n\t\t\t\tthis.setState({title_anim: true, anim_state: 1, redirect: false})\n\t\t\t}\n\t\t})\n\t\tti\n\t\t\t.type('Glitch Drive', {delay: 400})\n\t\t\t.move(-5, {speed: 125})\n\t\t\t.delete(7, {speed: 125})\n\t\t\t.move('END', {delay: 100})\n\t\t\t.type('++', {delay:800})\n\t\t\t.delete(1)\n\t\t\t.type('=2', {delay:100})\n\t\t\t.type('?', {delay:400})\n\t\t\t.delete(3)\n\t\t\t.type('+', {delay:300})\n\t\t\t.type(' <em>with </em>')\n\t\t\t.type('<em><strong>React</strong></em>', {speed: 200, delay: 500})\n\t\t\t.go()\n\t}\n\n\tasync componentDidMount(){\n\t\tAPI.add_auth_listener(() => {\n\t\t\tthis.setState({authenticated: true})\n\t\t})\n\t\tlet state = this.props.states[this.props.location.pathname]\n\t\tif(state !== undefined){\n\t\t\tawait this.setState(state)\n\t\t}\n\t\tif(!this.state.title_anim) {\n\t\t\tthis.title_animation()\n\t\t}\n\t}\n\n\tcomponentWillUnmount(){\n\t\tconst {pathname} = this.props.location\n\t\tthis.props.states[pathname] = this.state\n\t\tObject.assign(this.props.states[pathname], {title_anim: true, anim_state: 2, redirect: false})\n\t}\n\n\trender() {\n\t\tlet title_txt = <h1 id=\"title-string\"></h1>\n\t\tlet login_button = null\n\t\tlet redirect = null\n\t\tlet upload_form = <FadeIn><FileUpload on_file_upload={this.on_file_upload}/></FadeIn>\n\t\tif(!this.state.authenticated){\n\t\t\tlogin_button = this.login_button\n\t\t\tupload_form = null\n\t\t}\n\n\t\tif(this.state.redirect === true){\n\t\t\tredirect = <Redirect from=\"/\" to=\"/user\"/>\n\t\t}\n\n\t\tlet quote_block\n\t\tswitch(this.state.anim_state) {\n\t\tcase 0:\n\t\t\tquote_block = <div className=\"hidden-but-still-take-up-space\">{this.quote_block}</div>\n\t\t\tbreak\n\t\tcase 1:\n\t\t\tquote_block = <FadeIn transitionDuration={1000}>{this.quote_block}</FadeIn>\n\t\t\ttitle_txt = this.title_block\n\t\t\tbreak\n\t\tdefault:\n\t\t\tquote_block = this.quote_block\n\t\t\ttitle_txt = this.title_block\n\t\t\tbreak\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Jumbotron fluid>\n\t\t\t\t\t{title_txt}\n\t\t\t\t\t{quote_block}\n\t\t\t\t</Jumbotron>\n\t\t\t\t<Container fluid>\n\t\t\t\t\t<Row className=\"justify-content-md-center\">\n\t\t\t\t\t\t<Col id=\"login-button\" className=\"text-center\">{login_button}</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t<Row className=\"justify-content-md-center\">\n\t\t\t\t\t\t<Col id=\"upload-form\">{upload_form}</Col>\n\t\t\t\t\t</Row>\n\t\t\t\t\t{redirect}\n\t\t\t\t</Container>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default withRouter(Home)","import React, {useState} from 'react'\nimport {Container, Row, Col, Image, Table, Accordion, Button, Modal } from 'react-bootstrap'\nimport {CaretRightFill, CaretDownFill, Download, XSquareFill, Pencil, X, Check} from 'react-bootstrap-icons'\nimport Box from '@material-ui/core/Box'\nimport API from '../API'\nimport FadeIn from 'react-fade-in'\n\nfunction DeleteModal(props) {\n\tconst [show, setShow] = useState(false)\n\tconst id = props.id\n\tconst name = props.name\n\tconst title = props.title\n\tconst on_delete = props.delete_callback\n\tconst handleClose = () => setShow(false)\n\tconst handleShow = () => setShow(true)\n\tconst handleDelete = () => {\n\t\tsetShow(false)\n\t\tAPI.delete_upload(id).then((result) => {\n\t\t\tif(result == true){\n\t\t\t\tif(on_delete != undefined){\n\t\t\t\t\ton_delete()\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<XSquareFill width=\"32\" height=\"32\" onClick={handleShow} className=\"delete-btn\"/>\n\t\t\t<Modal show={show} onHide={handleClose}>\n\t\t\t\t<Modal.Header closeButton>\n\t\t\t\t\t<Modal.Title>Upload Deletion: <strong>{title}</strong></Modal.Title>\n\t\t\t\t</Modal.Header>\n\t\t\t\t<Modal.Body>Are you sure you want to delete {name}?</Modal.Body>\n\t\t\t\t<Modal.Footer>\n\t\t\t\t\t<Button variant=\"secondary\" onClick={handleClose}>\n            No\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"danger\" onClick={handleDelete}>\n            Yes\n\t\t\t\t\t</Button>\n\t\t\t\t</Modal.Footer>\n\t\t\t</Modal>\n\t\t</>\n\t)\n}\n\nclass FileView extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props)\n\t\tthis.data = props.data\n\t\t\n\t\tthis.data.created_at = new Date(Date.parse(props.data.created_at)).toLocaleString()\n\t\tthis.data.updated_at = new Date(Date.parse(props.data.updated_at)).toLocaleString()\n\n\t\tthis.state = { editable: false, editing: false, deleted: false, table_shown: false, data: this.data, title: this.data.title, uploader: this.data.uploader}\n\t\tthis.delete = this.delete.bind(this)\n\t\tthis.edit = this.edit.bind(this)\n\t\tthis.titleInput = (<input type=\"text\" className=\"title-input\" defaultValue={this.state.title} onChange={(e) => {this.setState({title: e.target.value})}}/>)\n\t\tthis.uploaderInput = (<input type=\"text\" className=\"uploader-input\" defaultValue={this.state.uploader} onChange={(e) => {this.setState({uploader: e.target.value})}}/>)\n\t}\n\n\tdelete(){\n\t\tthis.setState({deleted: true})\n\t}\n\n\tasync edit(){\n\t\tconst title = this.state.title\n\t\tconst uploader = this.state.uploader\n\t\tconst id = this.data.id\n\t\tconst result = await API.update_file(id, uploader, title)\n\t\tresult.data.created_at = new Date(Date.parse(result.data.created_at)).toLocaleString()\n\t\tresult.data.updated_at = new Date(Date.parse(result.data.updated_at)).toLocaleString()\n\t\tawait this.setState({data: result.data, editing: false})\n\t}\n\n\tcomponentDidMount(){\n\t\tAPI.add_auth_listener((user)=>{\n\t\t\tif(user._id == this.state.data.uploader_id){\n\t\t\t\tthis.setState({editable: true})\n\t\t\t}\n\t\t})\n\t}\n\n\trender(){\n\t\tconst state = this.state\n\t\tif(this.state.deleted == true) {\n\t\t\treturn null\n\t\t}\n\t\tlet {download_path, title, uploader, mime_type, file_name} = this.state.data\n\t\tdownload_path = API.base_url + download_path\n\n\n\t\tconst tbl_columns = {'title': 'Post Title', 'uploader': 'Uploader Name', 'id': 'Id', 'file_name': 'File Name', 'mime_type': 'Mimetype', 'size_formatted': 'Size', 'created_at': 'Upload Timestamp'}\n\t\tconst tbl_data = {}\n\t\tlet accordion_head = <p><CaretRightFill/> Display attributes</p>\n\t\tlet table_buffer = []\n\t\tObject.keys(tbl_columns).forEach(key => {\n\t\t\ttbl_data[key] = state.data[key]\n\t\t\ttable_buffer.push(<tr key={key}><td><strong>{tbl_columns[key]}</strong></td><td>{tbl_data[key]}</td></tr>)\n\t\t})\n\t\tif(this.state.table_shown)\n\t\t\taccordion_head = <p><CaretDownFill/> Hide attributes</p>\n\t\t\n\t\tlet delete_btn = null\n\t\tlet edit_controls = null\n\t\tlet header = (<>\n\t\t\t<h3>{title}</h3>\n\t\t\t<p className=\"uploader-name\">{uploader}</p>\n\t\t</>\n\t\t)\n\n\t\tif(this.state.editable){\n\t\t\tdelete_btn = <Col><DeleteModal id={tbl_data.id} name={tbl_data.file_name} title={title} delete_callback={this.delete}/></Col>\n\t\t\tedit_controls = (<div as={Button}><Pencil cursor=\"pointer\" className=\"text-success\" width=\"32\" height=\"32\" onClick={() => {this.setState({editing: true})}}/></div>)\n\n\t\t\tif(this.state.editing){\n\t\t\t\theader = (<>\n\t\t\t\t\t{this.titleInput}\n\t\t\t\t\t<p>Uploader: {this.uploaderInput}</p>\n\t\t\t\t</>)\n\t\t\t\tedit_controls = (<>\n\t\t\t\t\t<div as={Button}><X cursor=\"pointer\" className=\"text-danger\" width=\"32\" height=\"32\" onClick={() => {this.setState({editing: false})}}/></div>\n\t\t\t\t\t<div as={Button}><Check cursor=\"pointer\" className=\"text-success\" width=\"32\" height=\"32\" onClick={this.edit}/></div>\n\t\t\t\t</>)\n\t\t\t}\n\t\t}\n\n\t\tlet type = mime_type.substring(0, mime_type.indexOf('/'))\n\t\tlet item_display = null\n\t\tswitch(type) {\n\t\tcase 'audio':\n\t\t\titem_display = <audio controls className='audio-preview' src={download_path}/>\n\t\t\tbreak\n\t\tcase 'video':\n\t\t\titem_display = <video controls className='video-preview' src={download_path}/>\n\t\t\tbreak\n\t\tcase 'image':\n\t\t\titem_display = <Image className='image-preview img-fluid' src={download_path}/>\n\t\t\tbreak\n\t\tdefault:\n\t\t\titem_display = <Image className='image-preview img-fluid' src={'/file_icon.png'}/>\n\n\t\t}\n\t\t\n\t\treturn (\n\t\t\t<FadeIn>\n\t\t\t\t<Box borderRadius=\"10px\" border={1} className=\"shadow\">\n\t\t\t\t\t<Container className=\"panel\">\n\t\t\t\t\t\t<Row className=\".row-centered\">\n\t\t\t\t\t\t\t<Col className=\"panel-header\">\n\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t<Col className=\"col\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"d-flex flex-row\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-2 mr-2\">{header}</div>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"p-2 edit-controls\">{edit_controls}</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t\t\t\t<Col xs=\"auto\" className=\"float-right\">\n\t\t\t\t\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t\t\t\t\t<Col><a download={file_name} href={download_path}><Download width=\"32\" height=\"32\"/></a></Col>\n\t\t\t\t\t\t\t\t\t\t\t{delete_btn}\n\t\t\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col className=\"panel-display text-center\">{item_display}</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t\t<Row>\n\t\t\t\t\t\t\t<Col className=\"panel-footer\">\n\t\t\t\t\t\t\t\t<Accordion>\n\t\t\t\t\t\t\t\t\t<Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\" onClick={() => {this.setState({table_shown: !this.state.table_shown})}}>\n\t\t\t\t\t\t\t\t\t\t{accordion_head}\n\t\t\t\t\t\t\t\t\t</Accordion.Toggle>\n\t\t\t\t\t\t\t\t\t<Accordion.Collapse eventKey=\"0\">\n\t\t\t\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t{table_buffer}\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t\t\t\t</Accordion.Collapse>\n\t\t\t\t\t\t\t\t</Accordion>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Row>\n\t\t\t\t\t</Container>\n\t\t\t\t</Box>\n\t\t\t</FadeIn>\n\t\t)\n\t}\n}\n\nexport default FileView","import React from 'react'\nimport {Spinner} from 'react-bootstrap'\nimport {withRouter} from 'react-router-dom'\nimport InfiniteScroll from 'react-infinite-scroller'\n\nimport FileView from '../components/file_view'\nimport API from '../API'\n\nclass ContentFeed extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tconst auth_required = props.auth_required == undefined? true : props.auth_required\n\t\tthis.state = {auth_required: auth_required, authenticated: false, items: [], has_more: true, is_loading: true}\n\t\tthis.feed_path = props.feed_path\n\t\tthis.generator = API.pager(props.feed_path)\n\t\tthis.renderItems = this.renderItems.bind(this)\n\t}\n\n\tasync componentDidMount(){\n\n\t\tAPI.add_auth_listener(async () => {\n\t\t\tawait this.setState({authenticated: true})\n\t\t})\n\t}\n\n\tasync page(){\n\t\tconst entries = await this.generator.next()\n\t\tconst items = this.state.items.concat(entries.value)\n\t\tthis.setState({ items: items, has_more: !entries.done})\n\t}\n\n\trenderItem(key, data){\n\t\tif(!data)\n\t\t\treturn null\n\t\treturn <div key={key}><FileView data={data}/></div>\n\t}\n\n\trenderItems(){\n\t\tif(!this.state.items || this.state.items === []){\n\t\t\treturn null\n\t\t}\n\t\tconst {items} = this.state\n\t\tconst buffer = []\n\t\tfor (let i = 0; i < items.length; i++){\n\t\t\tbuffer.push(this.renderItem(i, items[i]))\n\t\t}\n\t\treturn buffer\n\t}\n\n\trender() {\n\t\tlet feed = null\n\t\tlet items = null\n\t\tif(this.state.authenticated || !this.state.auth_required) {\n\t\t\titems = this.renderItems()\n\t\t\tfeed = (\n\t\t\t\t<div id=\"feed\" style={{height: '100%', overflow: 'auto'}} ref={(ref) => this.scrollParentRef = ref}>\n\t\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\tpageStart={1}\n\t\t\t\t\t\tloadMore={this.page.bind(this)}\n\t\t\t\t\t\thasMore={this.state.has_more}\n\t\t\t\t\t\tloader={<div className=\"text-center\" key={-1}><Spinner animation=\"border\" variant=\"dark\"/></div>}\n\t\t\t\t\t\tgetScrollParent={() => this.scrollParentRef}\n\t\t\t\t\t\tthreshold={10}\n\n\t\t\t\t\t>\n\t\t\t\t\t\t{items}\n\t\t\t\t\t</InfiniteScroll>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\treturn feed\n\t}\n}\n\nexport default withRouter(ContentFeed)","import React from 'react'\nimport {Container, Row, Col} from 'react-bootstrap'\nimport {withRouter} from 'react-router-dom'\nimport ContentFeed from '../components/content_feed'\n\nimport API from '../API'\n\nclass UserUploads extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {authenticated: false}\n\t}\n\n\tasync componentDidMount(){\n\n\t\tAPI.add_auth_listener(async () => {\n\t\t\tawait this.setState({authenticated: true})\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container fluid>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col><h1 id=\"title-string\">My Uploads</h1></Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<ContentFeed feed_path=\"/uploads/user\"/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>)\n\t}\n}\n\nexport default withRouter(UserUploads)","import React from 'react'\nimport {Container, Row, Col} from 'react-bootstrap'\nimport {withRouter} from 'react-router-dom'\nimport ContentFeed from '../components/content_feed'\n\nimport API from '../API'\n\nclass AllUploads extends React.Component {\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = {authenticated: false}\n\t}\n\n\tasync componentDidMount(){\n\n\t\tAPI.add_auth_listener(async () => {\n\t\t\tawait this.setState({authenticated: true})\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Container fluid>\n\t\t\t\t<Row>\n\t\t\t\t\t<Col><h1 id=\"title-string\">All Uploads</h1></Col>\n\t\t\t\t</Row>\n\t\t\t\t<Row className=\"justify-content-center\">\n\t\t\t\t\t<Col>\n\t\t\t\t\t\t<ContentFeed feed_path=\"/uploads\" auth_required={false}/>\n\t\t\t\t\t</Col>\n\t\t\t\t</Row>\n\t\t\t</Container>)\n\t}\n}\n\nexport default withRouter(AllUploads)","import React from 'react'\nimport { Nav, Navbar } from 'react-bootstrap'\nimport { createBrowserHistory } from 'history'\nimport {\n\tHashRouter as Router,\n\tSwitch,\n\tRoute,\n\tNavLink,\n} from 'react-router-dom'\n\nimport API from './API'\nimport Home from './screens/home'\nimport UserUploads from './screens/user_uploads'\nimport AllUploads from './screens/all_uploads'\n\nimport 'bootswatch/dist/cosmo/bootstrap.min.css'\nimport './App.css'\n\nconst history = createBrowserHistory()\nconst states = {'/': {}, '/user': {}, '/uploads': {}}\n\nclass App extends React.Component{\n\tconstructor(props){\n\t\tsuper(props)\n\t\tthis.state = { authenticated: false }\n\t\tthis.sign_out = this.sign_out.bind(this)\n\t}\n\n\tshouldComponentUpdate(nextProps, nextState){\n\t\tif('authenticated' in nextState && nextState.authenticated != this.state.authenticated) {\n\t\t\tfor(const key of Object.keys(states)){\n\t\t\t\tstates[key]['authenticated'] = nextState.authenticated\n\t\t\t}\n\t\t\treturn true\n\t\t}\n\t}\n\n\tcomponentDidMount(){\n\t\tAPI.check_auth()\n\t\tAPI.add_auth_listener(() => {\n\t\t\tthis.setState({authenticated: true})\n\t\t})\n\t}\n\n\tsign_out(){\n\t\tAPI.sign_out().then((result => {\n\t\t\tif(result === true){\n\t\t\t\tfor(const key of Object.keys(states)){\n\t\t\t\t\tstates[key]['authenticated'] = false\n\t\t\t\t}\n\t\t\t\tthis.setState({authenticated: false}, () => {\n\t\t\t\t\thistory.replace('/', {authenticated: false, title_anim: true, anim_state: 2})\n\t\t\t\t\twindow.location.reload()\n\t\t\t\t})\n\t\t\t}\n\t\t})).catch(err => {console.error(err)})\n\t}\n\n\trender(){\n\t\tlet my_uploads_link = null\n\t\tlet name_display = null\n\t\tlet sign_out = null\n\t\tif(this.state.authenticated) {\n\t\t\tmy_uploads_link = (\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link as={NavLink} to=\"/user\">My Uploads</Nav.Link>\n\t\t\t\t</Nav.Item>)\n\t\t\tname_display = <Navbar.Text id=\"display-name\">Signed in as {API.user.name}</Navbar.Text>\n\t\t\tsign_out = (\n\t\t\t\t<Nav.Item>\n\t\t\t\t\t<Nav.Link onClick={this.sign_out}>Sign Out</Nav.Link>\n\t\t\t\t</Nav.Item>\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<Router history={history}>\n\t\t\t\t<Navbar bg=\"dark\" variant=\"dark\" sticky=\"top\" expand=\"md\" animation=\"true\">\n\t\t\t\t\t<Navbar.Brand as={NavLink} to=\"/\">a4-brycecorbitt</Navbar.Brand>\n\t\t\t\t\t<Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n\t\t\t\t\t<Navbar.Collapse>\n\t\t\t\t\t\t<Nav className=\"mr-auto\">\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link as={NavLink} exact to=\"/\">Home</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t{my_uploads_link}\n\t\t\t\t\t\t\t<Nav.Item>\n\t\t\t\t\t\t\t\t<Nav.Link as={NavLink} to=\"/uploads\">All Uploads</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t{name_display}\n\t\t\t\t\t\t\t{sign_out}\n\t\t\t\t\t\t</Nav>\n\t\t\t\t\t</Navbar.Collapse>\n\t\t\t\t</Navbar>\n\t\n\t\n\t\t\t\t{/* A <Switch> looks through its children <Route>s and\n\t\t\t\t\t\t\trenders the first one that matches the current URL. */}\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path=\"/user\" render={(props) => (<UserUploads {...props} states={states}/>)}/>\n\t\t\t\t\t<Route path=\"/uploads\" render={(props) => (<AllUploads {...props} states={states}/>)}/>\n\t\t\t\t\t<Route path=\"/\" exact render={(props) => (<Home {...props} states={states}/>)}/>\n\t\t\t\t</Switch>\n\t\t\t</Router>\n\t\t)\n\t}\n}\n\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n\twindow.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n    \t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n\t\t// The URL constructor is available in all browsers that support SW.\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n\t\tif (publicUrl.origin !== window.location.origin) {\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\n\t\t\treturn\n\t\t}\n\n\t\twindow.addEventListener('load', () => {\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n\t\t\tif (isLocalhost) {\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\n\t\t\t\tcheckValidServiceWorker(swUrl, config)\n\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\n\t\t\t\t// service worker/PWA documentation.\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Is not localhost. Just register service worker\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction registerValidSW(swUrl, config) {\n\tnavigator.serviceWorker\n\t\t.register(swUrl)\n\t\t.then(registration => {\n\t\t\tregistration.onupdatefound = () => {\n\t\t\t\tconst installingWorker = registration.installing\n\t\t\t\tif (installingWorker == null) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tinstallingWorker.onstatechange = () => {\n\t\t\t\t\tif (installingWorker.state === 'installed') {\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\n\t\t\t\t\t\t\t// content until all client tabs are closed.\n\t\t\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n\t\t\t\t\t\t\t)\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// At this point, everything has been precached.\n\t\t\t\t\t\t\t// It's the perfect time to display a\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.')\n\n\t\t\t\t\t\t\t// Execute callback\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t.catch(error => {\n\t\t\tconsole.error('Error during service worker registration:', error)\n\t\t})\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n\t// Check if the service worker can be found. If it can't reload the page.\n\tfetch(swUrl, {\n\t\theaders: { 'Service-Worker': 'script' },\n\t})\n\t\t.then(response => {\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\n\t\t\tconst contentType = response.headers.get('content-type')\n\t\t\tif (\n\t\t\t\tresponse.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n\t\t\t) {\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\n\t\t\t\t\tregistration.unregister().then(() => {\n\t\t\t\t\t\twindow.location.reload()\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\t// Service worker found. Proceed as normal.\n\t\t\t\tregisterValidSW(swUrl, config)\n\t\t\t}\n\t\t})\n\t\t.catch(() => {\n\t\t\tconsole.log(\n\t\t\t\t'No internet connection found. App is running in offline mode.'\n\t\t\t)\n\t\t})\n}\n\nexport function unregister() {\n\tif ('serviceWorker' in navigator) {\n\t\tnavigator.serviceWorker.ready\n\t\t\t.then(registration => {\n\t\t\t\tregistration.unregister()\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconsole.error(error.message)\n\t\t\t})\n\t}\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n\t<App />,\n\tdocument.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}