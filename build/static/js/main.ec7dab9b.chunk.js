(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{31:function(e,a,t){e.exports=t(59)},53:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(27),c=t.n(r),o=t(8),i=t(9),s=t(11),u=t(10),m=t(4),d=t.n(m),p=(t(53),t(28)),E=t(1),v=function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(e)},b=function(e){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/.test(e)},f=function(){var e=document.querySelector("#password").value;v(e)&&e==document.querySelector("#confirmpassword").value&&b(document.querySelector("#emailaddress").value)&&""!=document.querySelector("#username")?document.querySelector("#signup").disabled=!1:document.querySelector("#signup").disabled=!0},y=function(){""!=document.querySelector("#usernamelogin").value&&""!=document.querySelector("#passwordlogin").value?document.querySelector("#login").disabled=!1:document.querySelector("#login").disabled=!0},h=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={fields:[]},e}return Object(i.a)(t,[{key:"signUp",value:function(e){e.preventDefault();var a=document.getElementsByClassName("signUpFields");return a[2].value!=a[3].value?(alert("Error: passwords do not match"),console.log("Error: passwords do not match"),!1):/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(a[2].value)?(console.log(a),void d.a.post("/signup",{email:a[0].value,username:a[1].value,password:a[2].value,isSubscribed:a[4].checked}).then((function(e){"failure"==e.status?(alert("error: user already exists!"),Array.prototype.slice.call(a).map((function(e){return e.value=""}))):(alert("Successfully signed up. (you may now log in)"),Array.prototype.slice.call(a).map((function(e){return e.value=""})))}))):(alert("Error: password is too weak. Need 8 or more characters, at least 1 lowercase, uppercase, and number"),console.log("ERROR: weak password"),!1)}},{key:"logIn",value:function(e){e.preventDefault();var a=document.getElementsByClassName("loginFields");d.a.post("/login",{username:a[0].value,password:a[1].value}).then((function(e){var t=e.data;Array.prototype.slice.call(a).map((function(e){return e.value=""})),"success"==t.status?(console.log("LOGIN succeeded"),alert("Login successful"),window.localStorage.setItem("username",t.username),window.location.assign("data")):(console.log("LOGIN FAILED"),alert("Login failed (check username/password)"))}))}},{key:"passWordSignup",value:function(){v(document.querySelector("#password").value)||alert("password is too weak. a strong password has 8 or more characters, at least 1 capital letter, lowercase letter, and number."),f()}},{key:"emailAddressSignup",value:function(){console.log(this),b(document.querySelector("#emailaddress").value)||alert("invalid email address. use the format example@domain.com"),f()}},{key:"confirmPasswordSignup",value:function(){document.querySelector("#confirmpassword").value!=document.querySelector("#password").value&&alert("passwords do not match!"),f()}},{key:"userNameSignup",value:function(){f()}},{key:"userNameLogin",value:function(){y()}},{key:"passWordLogin",value:function(){y()}},{key:"componentDidUpdate",value:function(e){}},{key:"componentDidMount",value:function(){var e=this;d.a.get("/fields.json").then((function(a){e.setState({fields:a.data})}))}},{key:"render",value:function(){var e=[this.emailAddressSignup.bind(this),this.userNameSignup,this.passWordSignup,this.confirmPasswordSignup],a=this.state.fields;return l.a.createElement("div",{className:"container",onLoad:function(){document.querySelector("#login").disabled=!0,document.querySelector("#signup").disabled=!0}},l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h1",null,"MTG Custom Card Creator")),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"col-sm-6 text-right"},l.a.createElement("h2",null,"New User? Register below"),l.a.createElement("br",null),l.a.createElement("form",null,a.map((function(a,t){return l.a.createElement("div",null,l.a.createElement("label",{for:a.id},a.name),l.a.createElement("input",{type:a.type,className:"signUpFields",id:a.id,name:a.id,onBlur:t<4?e[t]:null}),l.a.createElement("br",null))})),l.a.createElement("button",{type:"button",class:"btn btn-lg btn-primary",id:"signup",onClick:this.signUp},"Signup"))),l.a.createElement("div",{className:"col-sm-6 text-right"},l.a.createElement("h2",null,"Returning user? Sign in below"),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("label",{for:"usernamelogin"},"Username"),l.a.createElement("input",{type:"text",className:"loginFields",id:"usernamelogin",name:"usernamelogin",onBlur:this.userNameLogin}),l.a.createElement("br",null),l.a.createElement("label",{for:"passwordlogin"},"Password"),l.a.createElement("input",{type:"password",className:"loginFields",id:"passwordlogin",name:"passwordlogin",onBlur:this.passWordLogin}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("button",{type:"button",className:"btn btn-lg btn-primary",id:"login",onClick:this.logIn},"Sign In"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("a",{role:"button","aria-pressed":"true",className:"btn btn-lg btn-primary",href:"https://github.com/login/oauth/authorize?client_id=bb174328d123ef3f1aa0&scope=gist"},"Sign In using Github"),l.a.createElement("br",null),l.a.createElement("form",null))))}}]),t}(l.a.Component),g=t(30),w=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(i.a)(t,[{key:"signOut",value:function(){localStorage.clear(),window.location.assign("/"),fetch("/logout",{}).then((function(e){return console.log(e)}))}},{key:"exampleEventHandler",value:function(){}},{key:"render",value:function(){var e=this,a=["My Cards","Tutorial","Sign Out"],t=["/data","/tutorial","#"].map((function(t,n){return l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",href:t,id:2==n?"signout":"",onClick:2==n?e.signOut:null},a[n]))}));return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("a",{className:"navbar-brand",id:"welcome",href:""},"Welcome back, ",this.props.name),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},t)))}}]),t}(l.a.Component),N=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).state={listOfCards:[]},n}return Object(i.a)(t,[{key:"addCard",value:function(e){var a=this;e.preventDefault();var t=window.localStorage.username,n=document.getElementsByClassName("addCard"),l=document.querySelector('input[name="rarity"]:checked').value;d.a.post("/addcard",{username:t,name:n[0].value,manacost:n[1].value,type:n[2].value,abilities:n[3].value,flavortext:n[4].value,rarity:l}).then((function(e){Array.prototype.slice.call(n).map((function(e){return e.value=""})),a.setState({listOfCards:[].concat(Object(g.a)(a.state.listOfCards),[e.data])})}))}},{key:"editCard",value:function(e,a){var t=this,n=document.querySelector("#hidden_"+a).parentElement.getElementsByTagName("td"),l=window.localStorage.username;d.a.post("/editcard",{id:e,username:l,name:n[0].innerText,manacost:n[1].innerText,type:n[2].innerText,abilities:n[3].innerText,flavortext:n[4].innerText,rarity:n[5].innerText}).then((function(e){t.setState({listOfCards:e.data})}))}},{key:"deleteCard",value:function(e){var a=this,t=window.localStorage.username;d.a.post("/deletecard",{id:e,username:t}).then((function(e){a.setState({listOfCards:e.data})}))}},{key:"componentDidMount",value:function(){var e=this,a=window.localStorage.username;d.a.post("/load",{username:a}).then((function(a){e.setState({listOfCards:a.data})}))}},{key:"render",value:function(){var e=this,a=window.localStorage.username;return l.a.createElement("div",null,l.a.createElement(w,{name:a}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h1",null,a,"'s Custom Cards")),l.a.createElement("table",{className:"table"},l.a.createElement("thead",{className:"thead-dark"},l.a.createElement("tr",null,l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Mana Cost"),l.a.createElement("th",null,"Card Type"),l.a.createElement("th",null,"Abilities"),l.a.createElement("th",null,"Flavor Text"),l.a.createElement("th",null,"Rarity"))),l.a.createElement("tbody",null,this.state.listOfCards.map((function(a,t){return l.a.createElement("tr",{onMouseOver:function(){Array.prototype.slice.call(document.querySelector("#hidden_"+t).childNodes).map((function(e){return e.style.visibility="visible"}))},onMouseLeave:function(){return Array.prototype.slice.call(document.querySelector("#hidden_"+t).childNodes).map((function(e){return e.style.visibility="hidden"}))}},l.a.createElement("td",null,a.name),l.a.createElement("td",null,a.manacost),l.a.createElement("td",null,a.type),l.a.createElement("td",null,a.abilities),l.a.createElement("td",null,a.flavortext),l.a.createElement("td",null,a.rarity),l.a.createElement("td",{className:"modify",id:"hidden_"+t},l.a.createElement("input",{type:"button",value:"edit",onClick:function(){"edit"===document.querySelector("#hidden_"+t).childNodes[0].value?(document.querySelector("#hidden_"+t).parentElement.contentEditable=!0,document.querySelector("#hidden_"+t).childNodes[0].value="save"):(document.querySelector("#hidden_"+t).parentElement.contentEditable=!1,document.querySelector("#hidden_"+t).childNodes[0].value="edit",e.editCard(a._id,t))}}),l.a.createElement("input",{type:"button",value:"del",onClick:function(){e.deleteCard(a._id)}})))})))),l.a.createElement("br",null),l.a.createElement("h2",null,"Add a card below:"),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement("div",{className:"row text-right"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("label",{for:"name"},"Name"),l.a.createElement("input",{className:"addCard",type:"text",id:"name",name:"name"})),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("label",{for:"manacost"},"Mana Cost"),l.a.createElement("input",{className:"addCard",type:"text",id:"manacost",name:"manacost"})),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("label",{for:"cardtype"},"Card Type"),l.a.createElement("input",{className:"addCard",type:"text",id:"cardtype",name:"cardtype"}))),l.a.createElement("div",{className:"row text-right"},l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("label",{for:"abilities"},"Abilities"),l.a.createElement("textarea",{className:"addCard",id:"abilities",name:"abilities"})),l.a.createElement("div",{className:"col-sm-4"},l.a.createElement("label",{for:"flavortext"},"Flavor Text"),l.a.createElement("textarea",{className:"addCard",id:"flavortext",name:"flavortext"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("input",{type:"submit",value:"Forge My Card",id:"addCard",onClick:this.addCard.bind(this)})),l.a.createElement("div",{className:"col-sm-4 text-center"},l.a.createElement("label",null,"Rarity"),l.a.createElement("div",{className:"text-left row"},l.a.createElement("div",{className:"col-sm-7"},l.a.createElement("input",{type:"radio",id:"common",name:"rarity",value:"common"}),l.a.createElement("label",{for:"common"},"Common"),l.a.createElement("br",null),l.a.createElement("input",{type:"radio",id:"uncommon",name:"rarity",value:"uncommon"}),l.a.createElement("label",{for:"uncommon"},"Uncommon"),l.a.createElement("br",null)),l.a.createElement("div",{className:"col-sm-5"},l.a.createElement("input",{type:"radio",id:"rare",name:"rarity",value:"rare"}),l.a.createElement("label",{for:"rare"},"Rare"),l.a.createElement("br",null),l.a.createElement("input",{type:"radio",id:"mythic",name:"rarity",value:"mythic"}),l.a.createElement("label",{for:"mythic"},"Mythic")))))),l.a.createElement("br",null),l.a.createElement("br",null)))}}]),t}(l.a.Component),S=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={content:[]},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/content.json").then((function(a){e.setState({content:a.data})}))}},{key:"render",value:function(){var e=this.state.content,a=window.localStorage.username;return l.a.createElement("div",null,l.a.createElement(w,{name:a}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"jumbotron"},l.a.createElement("h1",null,"Tutorial")),l.a.createElement("br",null),l.a.createElement("p",null,"Below is a basic tutorial on what each of the six table entries means and how to properly enter the data to make a Magic: the Gathering Card. To navigate to a specific trait, click on a link below:"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement("a",{href:"#name"},"Name")),l.a.createElement("li",null,l.a.createElement("a",{href:"#manacost"},"Mana Cost")),l.a.createElement("li",null,l.a.createElement("a",{href:"#cardtype"},"Card Type")),l.a.createElement("li",null,l.a.createElement("a",{href:"#abilities"},"Abilities")),l.a.createElement("li",null,l.a.createElement("a",{href:"#flavortext"},"Flavor Text")),l.a.createElement("li",null,l.a.createElement("a",{href:"#rarity"},"Rarity"))),l.a.createElement("br",null),e.map((function(e){return l.a.createElement("div",null,l.a.createElement("h2",{id:e.id},e.name),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("p",null,e.content),l.a.createElement("ul",null,e.list.map((function(e){return l.a.createElement("li",null,e)}))),l.a.createElement("p",null,e.content2)),l.a.createElement("div",{className:"col-sm-3"},l.a.createElement("img",{src:e.imgsrc,alt:e.imgalt}))),l.a.createElement("br",null))}))))}}]),t}(l.a.Component),C=function(e){Object(s.a)(t,e);var a=Object(u.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=a.call.apply(a,[this].concat(l))).state={users:[]},e}return Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/content.json").then((function(a){e.setState({users:a.data})}))}},{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement("div",null,l.a.createElement(E.c,null,l.a.createElement(E.a,{exact:!0,path:"/",component:window.localStorage.getItem("username")?N:h}),l.a.createElement(E.a,{path:"/data",component:N}),l.a.createElement(E.a,{path:"/tutorial",component:S}))))}}]),t}(l.a.Component);c.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ec7dab9b.chunk.js.map