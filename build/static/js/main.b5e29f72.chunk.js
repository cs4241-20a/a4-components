(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},16:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(8),l=n.n(i),o=(n(14),n(6)),u=n(1),s=n(2),c=n(4),p=n(3),h=(n(15),n(16),n(5)),d=n.n(h),m=(n(20),n(21),n(22),r.a.Component,function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(o.a)({},e.target.name,e.target.value))},a.handleClick=function(e){if(e.preventDefault(),""===a.state.input_username.trim()||""===a.state.input_password.trim())return window.alert("Please enter both a username and password."),!1;var t={userName:a.state.input_username,password:a.state.input_password},n=JSON.stringify(t);fetch("/login",{method:"POST",body:n,headers:{"Content-Type":"application/json"}}).then((function(e){200===e.status||206===e.status?a.props.loginCallback():alert("Password incorrect,  please try again.")}))},a.state={input_password:"",input_username:""},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"Login - Ray's Initiative Tracker"),r.a.createElement("p",null,"If you try to login without an account, one will be created for you on initial login."),r.a.createElement("p",null,"(*Please do not use personal passwords, they are stored as plaintext*)"),r.a.createElement("form",{class:"loginElements"},r.a.createElement("input",{type:"text",name:"input_username",placeholder:"Username",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("input",{type:"password",name:"input_password",placeholder:"Password",onChange:function(t){return e.handleChange(t)}}),r.a.createElement("button",{id:"loginBtn",onClick:function(t){return e.handleClick(t)}},"Login")))}}]),n}(r.a.Component)),f=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).moveCreature=function(t,n){t.preventDefault();var a={movedir:n,id:t.target.getAttribute("id"),order:t.target.getAttribute("order")},r=JSON.stringify(a);fetch("/move",{method:"POST",body:r,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.props.getAllCallback(t)}))},e.removeCreature=function(t){t.preventDefault();var n={delete:"delete",_id:e.props._id,order:e.props.order},a=JSON.stringify(n);fetch("/remove",{method:"POST",body:a,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.props.getAllCallback(t)}))},e.handleClick=function(t){t.preventDefault(),t.target&&t.target.classList.contains("delete")&&e.removeCreature(t),t.target&&t.target.classList.contains("moveUp")&&e.moveCreature(t,-1),t.target&&t.target.classList.contains("moveDown")&&e.moveCreature(t,1)},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("tr",null,r.a.createElement("td",null,this.props._id),r.a.createElement("td",null,this.props.order),r.a.createElement("td",null,this.props.name),r.a.createElement("td",null,this.props.num),r.a.createElement("td",null,this.props.hp),r.a.createElement("td",null,this.props.ac),r.a.createElement("td",null,r.a.createElement(d.a,{className:"moveDown fas fa-angle-double-up",id:this.props._id,order:this.props.order,onClick:function(t){return e.handleClick(t)}})),r.a.createElement("td",null,r.a.createElement(d.a,{className:"moveUp fas fa-angle-double-down",id:this.props._id,order:this.props.order,onClick:function(t){return e.handleClick(t)}})),r.a.createElement("td",null,r.a.createElement(d.a,{className:"delete fas fa-trash-o",id:this.props._id,order:this.props.order,onClick:function(t){return e.handleClick(t)}})))}}]),n}(r.a.Component),v=function(e){Object(c.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).load=function(){fetch("/appdata",{method:"GET","no-cors":!0}).then((function(e){return e.json()})).then((function(e){a.setState({creatures:e})}))},a.handleChange=function(e){a.setState(Object(o.a)({},e.target.name,e.target.value))},a.switchRoll=function(e){var t=a.initbonusBox.current,n=a.initiativeBox.current;!0===e.target.checked?(n.style.display="none",t.style.display="block"):(t.style.display="none",n.style.display="block")},a.updateCreatures=function(e){a.setState({creatures:e})},a.submit=function(e){var t,n=this;if(e.preventDefault(),""===this.state.input_name||""===this.state.input_ac||""===this.state.input_initiative||""===this.state.input_hp)return window.alert("Please fill in all of the fields."),!1;t=this.checkbox.current.checked?parseInt(this.state.input_initiative)+this.getRandomInt(20):parseInt(this.state.input_initiative);var a={name:this.state.input_name,num:t,ac:this.state.input_ac,hp:this.state.input_hp},r=JSON.stringify(a);fetch("/add",{method:"POST",body:r,headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return n.processJSON(e)}))},a.processJSON=function(e){a.setState({input_name:"",input_hp:0,input_ac:0,input_initiative:0,creatures:e})},a.getRandomInt=function(e){return Math.floor(Math.random()*Math.floor(e))+1},a.login=function(){a.loginBox.current.style.display="none",a.appBox.current.style.display="grid",a.load()},a.checkbox=r.a.createRef(),a.initbonusBox=r.a.createRef(),a.initiativeBox=r.a.createRef(),a.appBox=r.a.createRef(),a.loginBox=r.a.createRef(),a.state={creatures:[],input_name:"",input_hp:0,input_ac:0,input_initiative:0,input_should_roll:!1},a.load(),a}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{ref:this.loginBox,style:{diaplay:"block"}},r.a.createElement(m,{loginCallback:this.login})),r.a.createElement("div",{className:"appcontainer",ref:this.appBox,style:{display:"none"}},r.a.createElement("h1",null,"Raymond's Initiative Tracker"),r.a.createElement("p",{id:"note"},"Note: up/down arrows are only for resolving ties."),r.a.createElement("form",null,r.a.createElement("h2",null,"Enter New Creature"),r.a.createElement("label",null,"Creature Name"),r.a.createElement("input",{type:"text",id:"name",name:"input_name",value:this.state.input_name,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Max Hit Points"),r.a.createElement("input",{type:"number",id:"hp",name:"input_hp",value:this.state.input_hp,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Armor Class"),r.a.createElement("input",{type:"number",id:"ac",name:"input_ac",value:this.state.input_ac,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Roll?"),r.a.createElement("input",{ref:this.checkbox,type:"checkbox",id:"roll",name:"input_should_roll",value:this.state.input_should_roll,onClick:function(t){return e.switchRoll(t)},onChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",{ref:this.initbonusBox,style:{display:"none"}},r.a.createElement("label",null,"Initiative Bonus"),r.a.createElement("input",{type:"number",id:"initbonus",name:"input_initiative",value:this.state.input_initiative,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("p",null,"ex +3, -2, 5")),r.a.createElement("div",{ref:this.initiativeBox,style:{display:"block"}},r.a.createElement("label",null,"Initiative"),r.a.createElement("input",{type:"number",id:"initiative",name:"input_initiative",value:this.state.input_initiative,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("br",null)),r.a.createElement("button",{class:"button",onClick:function(t){return e.submit(t)}},"Add Creature")),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Turn"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Initiative"),r.a.createElement("th",null,"HP"),r.a.createElement("th",null,"AC"),r.a.createElement("th",null),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.creatures.map((function(t,n){return r.a.createElement(f,{_id:t._id,order:t.order,name:t.name,num:t.num,hp:t.hp,ac:t.ac,getAllCallback:e.updateCreatures})}))))))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(24)}},[[9,1,2]]]);
//# sourceMappingURL=main.b5e29f72.chunk.js.map