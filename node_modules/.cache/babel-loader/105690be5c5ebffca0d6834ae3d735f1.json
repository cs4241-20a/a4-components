{"ast":null,"code":"import React from\"react\";import ReactDOM from\"react-dom\";import App from\"./App\";//NOTE: this file is being called no matter what.\n//so for data, it is being called.\n//KEEP THIS IN MIND, because I may need to do a lot of refactoring and such.\n//also may have to move stuff to App.js \nvar name=\"Luke\";ReactDOM.render(/*#__PURE__*/React.createElement(App,{name:name}),document.getElementById(\"root\"));//checks if the password is 8> characters, has at least 1 capital, 1 lowercase, and 1 number.\n//function called when hit signup button. sends request to server!\nvar signUp=function signUp(e){e.preventDefault();var inputs=document.getElementsByClassName('signUpFields');if(inputs[2].value!=inputs[3].value){alert('Error: passwords do not match');console.log('Error: passwords do not match');return false;}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(inputs[2].value)){alert('Error: password is too weak. Need 8 or more characters, at least 1 lowercase, uppercase, and number');console.log('ERROR: weak password');return false;}fetch('/signup',{method:'POST',body:JSON.stringify({email:inputs[0].value,username:inputs[1].value,password:inputs[2].value,isSubscribed:inputs[4].checked}),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(json){if(json.status==\"failure\"){alert('error: user already exists!');Array.prototype.slice.call(inputs).map(function(i){return i.value='';});//did not really need this but it is a cool line of code.\n}else{alert('Successfully signed up. (you may now log in)');Array.prototype.slice.call(inputs).map(function(i){return i.value='';});//clear fields\n}});};//function called when hit login button. sends request to server!\nvar logIn=function logIn(e){e.preventDefault();var inputs=document.getElementsByClassName(\"loginFields\");fetch('/login',{method:'POST',body:JSON.stringify({username:inputs[0].value,password:inputs[1].value}),headers:{'Content-type':'application/json'}}).then(function(response){return response.json();}).then(function(json){Array.prototype.slice.call(inputs).map(function(i){return i.value='';});if(json.status=='success'){console.log(\"LOGIN succeeded\");alert('Login successful');window.localStorage.setItem('username',json.username);window.location.assign('data.html');}else{console.log('LOGIN FAILED');alert('Login failed (check username/password)');}});};//onload: handles setting a few important functions\nwindow.onload=function(){document.querySelector('#signup').onclick=signUp;document.querySelector('#login').onclick=logIn;if(window.localStorage.getItem('username'))window.location.assign('data.html');//do this via routing\n};","map":{"version":3,"sources":["/Users/lukesmacbook/Desktop/A Term/Webware/projects/p4test/express-static-serve/react-app/src/index.js"],"names":["React","ReactDOM","App","name","render","document","getElementById","signUp","e","preventDefault","inputs","getElementsByClassName","value","alert","console","log","test","fetch","method","body","JSON","stringify","email","username","password","isSubscribed","checked","headers","then","response","json","status","Array","prototype","slice","call","map","i","logIn","window","localStorage","setItem","location","assign","onload","querySelector","onclick","getItem"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n//NOTE: this file is being called no matter what.\n//so for data, it is being called.\n//KEEP THIS IN MIND, because I may need to do a lot of refactoring and such.\n//also may have to move stuff to App.js \n\nconst name = \"Luke\"\nReactDOM.render(<App name={name}/>, document.getElementById(\"root\"));\n//checks if the password is 8> characters, has at least 1 capital, 1 lowercase, and 1 number.\n\n//function called when hit signup button. sends request to server!\nconst signUp = function(e) {\n    e.preventDefault()\n    const inputs = document.getElementsByClassName('signUpFields')\n    if(inputs[2].value!=inputs[3].value) {\n        alert('Error: passwords do not match')\n        console.log('Error: passwords do not match')\n        return false\n    }\n    if (!(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(inputs[2].value))){\n        alert('Error: password is too weak. Need 8 or more characters, at least 1 lowercase, uppercase, and number')\n        console.log('ERROR: weak password')\n        return false\n    }\n    fetch( '/signup', {\n        method:'POST',\n        body:JSON.stringify({email:inputs[0].value,username:inputs[1].value,password:inputs[2].value,isSubscribed:(inputs[4].checked)}),\n        headers:{\n            'Content-Type':'application/json'\n        }\n      })\n      .then( response => response.json())\n      .then(json => {\n          if(json.status==\"failure\") {\n              alert('error: user already exists!')\n              Array.prototype.slice.call( inputs ).map(i=>i.value='') //did not really need this but it is a cool line of code.\n          } else {\n              alert('Successfully signed up. (you may now log in)')\n              Array.prototype.slice.call( inputs ).map(i=>i.value='') \n              //clear fields\n          }})\n}\n//function called when hit login button. sends request to server!\nconst logIn = function(e) {\n    e.preventDefault()\n    const inputs = document.getElementsByClassName(\"loginFields\")\n    fetch ('/login', {\n        method:'POST',\n        body:JSON.stringify({username:inputs[0].value, password:inputs[1].value}),\n        headers:{\n            'Content-type':'application/json'\n        }\n\n    }).then( response => response.json())\n    .then(json => {\n        Array.prototype.slice.call( inputs ).map(i=>i.value='')\n        if(json.status=='success') {\n            console.log(\"LOGIN succeeded\")\n            alert('Login successful')\n            window.localStorage.setItem('username', json.username)\n            window.location.assign('data.html')\n            \n        } else {\n            console.log('LOGIN FAILED')\n            alert('Login failed (check username/password)')\n        }\n    })\n\n}\n//onload: handles setting a few important functions\nwindow.onload = function() {\n    document.querySelector('#signup').onclick = signUp\n    document.querySelector('#login').onclick = logIn\n    if(window.localStorage.getItem('username')) window.location.assign('data.html') //do this via routing\n    \n}\n\n\n"]},"metadata":{},"sourceType":"module"}