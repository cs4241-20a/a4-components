{"ast":null,"code":"import React from\"react\";import ReactDOM from\"react-dom\";import App from\"./App\";ReactDOM.render(/*#__PURE__*/React.createElement(App,null),document.getElementById(\"root\"));//checks if the password is 8> characters, has at least 1 capital, 1 lowercase, and 1 number.\nvar isValidPassword=function isValidPassword(pw){return /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(pw);};var isValidEmail=function isValidEmail(e){var regex=/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/;return regex.test(e);};//function called when hit signup button. sends request to server!\nvar signUp=function signUp(e){e.preventDefault();var inputs=document.getElementsByClassName('signUpFields');if(inputs[2].value!=inputs[3].value){alert('Error: passwords do not match');console.log('Error: passwords do not match');return false;}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(inputs[2].value)){alert('Error: password is too weak. Need 8 or more characters, at least 1 lowercase, uppercase, and number');console.log('ERROR: weak password');return false;}fetch('/signup',{method:'POST',body:JSON.stringify({email:inputs[0].value,username:inputs[1].value,password:inputs[2].value,isSubscribed:inputs[4].checked}),headers:{'Content-Type':'application/json'}}).then(function(response){return response.json();}).then(function(json){if(json.status==\"failure\"){alert('error: user already exists!');Array.prototype.slice.call(inputs).map(function(i){return i.value='';});//did not really need this but it is a cool line of code.\n}else{alert('Successfully signed up. (you may now log in)');Array.prototype.slice.call(inputs).map(function(i){return i.value='';});//clear fields\n}});};//function called when hit login button. sends request to server!\nvar logIn=function logIn(e){e.preventDefault();var inputs=document.getElementsByClassName(\"loginFields\");fetch('/login',{method:'POST',body:JSON.stringify({username:inputs[0].value,password:inputs[1].value}),headers:{'Content-type':'application/json'}}).then(function(response){return response.json();}).then(function(json){Array.prototype.slice.call(inputs).map(function(i){return i.value='';});if(json.status=='success'){console.log(\"LOGIN succeeded\");alert('Login successful');window.localStorage.setItem('username',json.username);window.location.assign('data.html');}else{console.log('LOGIN FAILED');alert('Login failed (check username/password)');}});};//onload: handles setting a few important functions\nwindow.onload=function(){document.querySelector('#signup').onclick=signUp;document.querySelector('#login').onclick=logIn;document.querySelector('#password').onfocusout=function(){if(!isValidPassword(document.querySelector('#password').value)){alert('password is too weak. a strong password has 8 or more characters, at least 1 capital letter, lowercase letter, and number.');}checkValiditySignUp();};document.querySelector('#emailaddress').onfocusout=function(){if(!isValidEmail(document.querySelector('#emailaddress').value)){alert('invalid email address. use the format example@domain.com');}checkValiditySignUp();};document.querySelector('#confirmpassword').onfocusout=function(){if(document.querySelector('#confirmpassword').value!=document.querySelector('#password').value){alert('passwords do not match!');}checkValiditySignUp();};document.querySelector('#username').onfocusout=function(){checkValiditySignUp();};document.querySelector('#usernamelogin').onfocusout=function(){checkValidityLogIn();};document.querySelector('#passwordlogin').onfocusout=function(){checkValidityLogIn();};if(window.localStorage.getItem('username'))window.location.assign('data.html');};//signup starts disabled, is enabled when conditions are met.\nvar checkValiditySignUp=function checkValiditySignUp(){var pw=document.querySelector('#password').value;if(isValidPassword(pw)&&pw==document.querySelector('#confirmpassword').value&&isValidEmail(document.querySelector('#emailaddress').value)&&document.querySelector('#username')!=''){document.querySelector('#signup').disabled=false;}else{document.querySelector('#signup').disabled=true;}};//signin starts disabled, is enabled when conditions are met.\nvar checkValidityLogIn=function checkValidityLogIn(){if(document.querySelector('#usernamelogin').value!=''&&document.querySelector('#passwordlogin').value!=''){document.querySelector('#login').disabled=false;}else{document.querySelector('#login').disabled=true;}};","map":{"version":3,"sources":["/Users/lukesmacbook/Desktop/A Term/Webware/projects/p4test/express-static-serve/react-app/src/index.js"],"names":["React","ReactDOM","App","render","document","getElementById","isValidPassword","pw","test","isValidEmail","e","regex","signUp","preventDefault","inputs","getElementsByClassName","value","alert","console","log","fetch","method","body","JSON","stringify","email","username","password","isSubscribed","checked","headers","then","response","json","status","Array","prototype","slice","call","map","i","logIn","window","localStorage","setItem","location","assign","onload","querySelector","onclick","onfocusout","checkValiditySignUp","checkValidityLogIn","getItem","disabled"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n//checks if the password is 8> characters, has at least 1 capital, 1 lowercase, and 1 number.\nconst isValidPassword = function(pw) {\n    return /^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(pw)\n}\nconst isValidEmail = function(e) {\n    const regex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/\n    return regex.test(e)\n}\n//function called when hit signup button. sends request to server!\nconst signUp = function(e) {\n    e.preventDefault()\n    const inputs = document.getElementsByClassName('signUpFields')\n    if(inputs[2].value!=inputs[3].value) {\n        alert('Error: passwords do not match')\n        console.log('Error: passwords do not match')\n        return false\n    }\n    if (!(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{8,})/.test(inputs[2].value))){\n        alert('Error: password is too weak. Need 8 or more characters, at least 1 lowercase, uppercase, and number')\n        console.log('ERROR: weak password')\n        return false\n    }\n    fetch( '/signup', {\n        method:'POST',\n        body:JSON.stringify({email:inputs[0].value,username:inputs[1].value,password:inputs[2].value,isSubscribed:(inputs[4].checked)}),\n        headers:{\n            'Content-Type':'application/json'\n        }\n      })\n      .then( response => response.json())\n      .then(json => {\n          if(json.status==\"failure\") {\n              alert('error: user already exists!')\n              Array.prototype.slice.call( inputs ).map(i=>i.value='') //did not really need this but it is a cool line of code.\n          } else {\n              alert('Successfully signed up. (you may now log in)')\n              Array.prototype.slice.call( inputs ).map(i=>i.value='') \n              //clear fields\n          }})\n}\n//function called when hit login button. sends request to server!\nconst logIn = function(e) {\n    e.preventDefault()\n    const inputs = document.getElementsByClassName(\"loginFields\")\n    fetch ('/login', {\n        method:'POST',\n        body:JSON.stringify({username:inputs[0].value, password:inputs[1].value}),\n        headers:{\n            'Content-type':'application/json'\n        }\n\n    }).then( response => response.json())\n    .then(json => {\n        Array.prototype.slice.call( inputs ).map(i=>i.value='')\n        if(json.status=='success') {\n            console.log(\"LOGIN succeeded\")\n            alert('Login successful')\n            window.localStorage.setItem('username', json.username)\n            window.location.assign('data.html')\n            \n        } else {\n            console.log('LOGIN FAILED')\n            alert('Login failed (check username/password)')\n        }\n    })\n\n}\n//onload: handles setting a few important functions\nwindow.onload = function() {\n    document.querySelector('#signup').onclick = signUp\n    document.querySelector('#login').onclick = logIn\n    document.querySelector('#password').onfocusout = function() {\n        if(!isValidPassword(document.querySelector('#password').value)) {\n            alert('password is too weak. a strong password has 8 or more characters, at least 1 capital letter, lowercase letter, and number.')\n        }\n        checkValiditySignUp()\n    }\n    document.querySelector('#emailaddress').onfocusout = function() {\n        if(!isValidEmail(document.querySelector('#emailaddress').value)) {\n            alert('invalid email address. use the format example@domain.com')\n        }\n        checkValiditySignUp()\n    }\n    document.querySelector('#confirmpassword').onfocusout = function() {\n        if(document.querySelector('#confirmpassword').value!=document.querySelector('#password').value) {\n            alert('passwords do not match!')\n        }\n        checkValiditySignUp()\n    }\n    document.querySelector('#username').onfocusout = function() {\n        checkValiditySignUp()\n    }\n    document.querySelector('#usernamelogin').onfocusout = function() {\n        checkValidityLogIn()\n    }\n    document.querySelector('#passwordlogin').onfocusout = function() {\n        checkValidityLogIn()\n    }\n    if(window.localStorage.getItem('username')) window.location.assign('data.html')\n    \n}\n//signup starts disabled, is enabled when conditions are met.\nconst checkValiditySignUp = function() {\n    const pw = document.querySelector('#password').value\n    if(isValidPassword(pw) && pw==document.querySelector('#confirmpassword').value && isValidEmail(document.querySelector('#emailaddress').value)&&document.querySelector('#username')!='') {\n        document.querySelector('#signup').disabled = false\n    } else {\n        document.querySelector('#signup').disabled = true\n    }\n}\n//signin starts disabled, is enabled when conditions are met.\nconst checkValidityLogIn = function() {\n    if(document.querySelector('#usernamelogin').value!=''&&document.querySelector('#passwordlogin').value!='') {\n        document.querySelector('#login').disabled = false\n    } else {\n        document.querySelector('#login').disabled = true\n    }\n}"]},"metadata":{},"sourceType":"module"}